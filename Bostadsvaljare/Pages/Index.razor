@page "/"

@using Syncfusion.Blazor.SplitButtons

@inject IJSRuntime JSRuntime
@inject NavigationManager navManager


<div id="selector">
    <img id="overview" src="@OverviewImg" usemap="#@Views[View].ImageMapName" @onload="OnLoadIM">
    <map id="@Views[0].ImageMapName" name="@Views[0].ImageMapName">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e, $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="558,130,558,206,550,212,550,272,576,288,578,315,311,322,307,148,556,130" shape="poly">
        <area status="sold" href="#" @onmouseover="@(e => ShowTooltip(e, $"Såld"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="311,324,576,315,571,373,551,380,553,400,553,438,571,447,576,461,313,463" shape="poly">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e,  $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="574,463,574,539,553,542,553,602,578,609,313,604,308,461,463,461" shape="poly">
        <area status="booked" href="#" @onmouseover="@(e => ShowTooltip(e,  $"Reserverad"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="313,607,583,611,576,701,551,712,553,766,313,753" shape="poly">
        <area status="sold" href="#" @onmouseover="@(e => ShowTooltip(e, $"Såld"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="580,885,576,773,544,764,313,753,311,870,437,879" shape="poly">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e, $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="578,90,940,63,942,281,580,290,551,270,551,211,558,128,558,110,574,106" shape="poly">
        <area status="sold" href="#" @onmouseover="@(e => ShowTooltip(e, $"Såld"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="578,292,942,279,942,456,576,461,551,436,551,391,553,378,569,371" shape="poly">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e, $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="576,463,942,456,942,616,578,611,553,602,553,546,574,537" shape="poly">
        <area status="sold" href="#" @onmouseover="@(e => ShowTooltip(e, $"Såld"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="583,613,947,616,944,784,574,771,551,766,551,710,576,699" shape="poly">
        <area status="sold" href="#" @onmouseover="@(e => ShowTooltip(e, $"Såld"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="940,63,953,97,1387,70,1389,281,953,292,940,274" shape="poly">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e, $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="940,283,953,290,1387,279,1387,458,956,456,944,456" shape="poly">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e, $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="942,456,953,458,1389,458,1387,618,956,609,942,607" shape="poly">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e, $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="944,609,1387,620,1389,796,944,780" shape="poly">
    </map>
    <map id="@Views[1].ImageMapName" name="@Views[1].ImageMapName">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e, $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="143,259,119,127,513,262,658,107,673,110,753,137,748,147,749,236,756,240,760,296,643,433" shape="poly">
        <area status="sold" href="#" @onmouseover="@(e => ShowTooltip(e, $"Såld"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="144,262,168,402,647,580,760,431,757,394,702,367,640,435" shape="poly">
        <area status="sold" href="#" @onmouseover="@(e => ShowTooltip(e,  $"Såld"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="167,403,191,540,658,713,760,568,760,527,711,503,653,580" shape="poly">
        <area status="booked" href="#" @onmouseover="@(e => ShowTooltip(e,  $"Reserverad"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="195,542,212,649,660,824,762,686,764,643,725,628,658,714" shape="poly">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e,  $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="213,653,226,750,681,948,851,685,769,647,769,685,665,828" shape="poly">
        <area status="booked" href="#" @onmouseover="@(e => ShowTooltip(e,  $"Reserverad"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="787,1,786,149,971,211,1074,73,1078,1" shape="poly">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e,  $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="791,150,788,289,961,348,1065,215,1070,173,1016,157,969,211" shape="poly">
        <area status="available" href="#" @onmouseover="@(e => ShowTooltip(e,  $"Lgh nr.\t7A\nBoarea:\t91m²\nPris:\t4 800 000Kr"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="791,292,790,422,957,477,1047,350,1053,310,1015,292,967,351" shape="poly">
        <area status="sold" href="#" @onmouseover="@(e => ShowTooltip(e,  $"Såld"))" @onmouseout="HideTooltip" @onclick="@(() => HousingClicked(""))" coords="791,424,957,479,1005,415,1044,429,1041,468,952,602,790,537" shape="poly">
    </map>
</div>


@*<img src="IMG/Vy till Phille.png" usemap="#image-map"> <map name="image-map">
    <area target="" alt="1" title="1" href="" coords="558,130,558,206,550,212,550,272,576,288,578,315,311,322,307,148,556,130" shape="poly">
    <area target="" alt="2" title="2" href="" coords="311,324,576,315,571,373,551,380,553,400,553,438,571,447,576,461,313,463" shape="poly">
    <area target="" alt="3" title="3" href="" coords="574,463,574,539,553,542,553,602,578,609,313,604,308,461,463,461" shape="poly">
    <area target="" alt="4" title="4" href="" coords="313,607,583,611,576,701,551,712,553,766,313,753" shape="poly">
    <area target="" alt="5" title="5" href="" coords="580,885,576,773,544,764,313,753,311,870,437,879" shape="poly">
    <area target="" alt="6" title="6" href="" coords="578,90,940,63,942,281,580,290,551,270,551,211,558,128,558,110,574,106" shape="poly">
    <area target="" alt="7" title="7" href="" coords="578,292,942,279,942,456,576,461,551,436,551,391,553,378,569,371" shape="poly">
    <area target="" alt="8" title="8" href="" coords="576,463,942,456,942,616,578,611,553,602,553,546,574,537" shape="poly">
    <area target="" alt="9" title="9" href="" coords="583,613,947,616,944,784,574,771,551,766,551,710,576,699" shape="poly">
    <area target="" alt="10" title="10" href="" coords="940,63,953,97,1387,70,1389,281,953,292,940,274" shape="poly">
    <area target="" alt="11" title="11" href="" coords="940,283,953,290,1387,279,1387,458,956,456,944,456" shape="poly">
    <area target="" alt="12" title="12" href="" coords="942,456,953,458,1389,458,1387,618,956,609,942,607" shape="poly">
    <area target="" alt="13" title="13" href="" coords="944,609,1387,620,1389,796,944,780" shape="poly">
</map>*@
@*<map name="image-map">
    <area target="" alt="1" title="1" href="#" coords="143,259,119,127,513,262,658,107,673,110,753,137,748,147,749,236,756,240,760,296,643,433" shape="poly">
    <area target="" alt="2" title="2" href="#" coords="144,262,168,402,647,580,760,431,757,394,702,367,640,435" shape="poly">
    <area target="" alt="3" title="3" href="#" coords="167,403,191,540,658,713,760,568,760,527,711,503,653,580" shape="poly">
    <area target="" alt="4" title="4" href="#" coords="195,542,212,649,660,824,762,686,764,643,725,628,658,714" shape="poly">
    <area target="" alt="5" title="5" href="#" coords="213,653,226,750,681,948,851,685,769,647,769,685,665,828" shape="poly">
    <area target="" alt="5" title="6" href="#" coords="787,1,786,149,971,211,1074,73,1078,1" shape="poly">
    <area target="" alt="6" title="7" href="#" coords="791,150,788,289,961,348,1065,215,1070,173,1016,157,969,211" shape="poly">
    <area target="" alt="7" title="8" href="#" coords="791,292,790,422,957,477,1047,350,1053,310,1015,292,967,351" shape="poly">
    <area target="" alt="8" title="9" href="#" coords="791,424,957,479,1005,415,1044,429,1041,468,952,602,790,537" shape="poly">
</map>*@

<div id="tipmsg"></div>

<div id="view_menu">
    <SfDropDownButton IconCss="e-ddb-icons e-view" CssClass="e-caret-hide e-background">
        <DropDownButtonEvents OnOpen="OpenTop" OnItemRender="RenderMenuItem" ItemSelected="ChangeView" />
        <DropDownButtonItems>
            <DropDownButtonItem Id="0" Text="Vy 1"></DropDownButtonItem>
            <DropDownButtonItem Id="1" Text="Vy 2"></DropDownButtonItem>
        </DropDownButtonItems>
    </SfDropDownButton>
</div>

<div id="sun_study_menu">
    <SfDropDownButton IconCss="e-ddb-icons e-sun-study" CssClass="e-caret-hide e-background">
        <DropDownButtonEvents OnOpen="OpenTop" OnItemRender="RenderMenuItem" ItemSelected="ChangeSunStudy" />
        <DropDownButtonItems>
            <DropDownButtonItem Id="0" Text="Morgon"></DropDownButtonItem>
            <DropDownButtonItem Id="1" Text="Mitt på dagen"></DropDownButtonItem>
            <DropDownButtonItem Id="2" Text="Kväll"></DropDownButtonItem>
        </DropDownButtonItems>
    </SfDropDownButton>
</div>


@code {
    public class SunStudyData
    {
        public string Name { get; set; }
        public string ImagePath { get; set; }
    }

    public class ViewData
    {
        public string Name { get; set; }
        public string ImageMapName { get; set; }
        public List<SunStudyData> SunStudies { get; set; }
    }

    List<ViewData> Views = new List<ViewData> {
        new ViewData() {
            Name = "Vy 1",
            ImageMapName = "imagemap-1",
            SunStudies = new List<SunStudyData> {
                new SunStudyData() {Name = "Morgon", ImagePath = "IMG/Dag.jpg"},
                new SunStudyData() {Name = "Mitt på dagen", ImagePath = "IMG/Imagemap.jpg"},
                new SunStudyData() {Name = "Kväll", ImagePath = "IMG/Natt.jpg"},
            },
        },
        new ViewData() {
            Name = "Vy 2",
            ImageMapName = "imagemap-2",
            SunStudies = new List<SunStudyData> {
                new SunStudyData() {Name = "Morgon", ImagePath = "IMG/ext. 2.jpg"},
                new SunStudyData() {Name = "Mitt på dagen", ImagePath = "IMG/ext. 2.jpg"},
                new SunStudyData() {Name = "Kväll", ImagePath = "IMG/ext. 2.jpg"},
            },
        },
    };

    private int View { get; set; } = 0;
    private bool viewChanged = true;
    private string OverviewImg { get; set; }
    public List<Houses> DataSource { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        this.DataSource = Houses.GetHouseData();
        this.OverviewImg = Views[View].SunStudies[1].ImagePath;
    }

    public async void OnLoadIM(Microsoft.AspNetCore.Components.Web.ProgressEventArgs args)
    {
        if (viewChanged)
            await JSRuntime.InvokeVoidAsync(
                "mapster.addMapHighlights", "overview", Views[View].ImageMapName
            );

        viewChanged = false;
    }

    public void OpenTop(Syncfusion.Blazor.SplitButtons.BeforeOpenCloseMenuEventArgs args)
    {
        args.Element.SetAttribute("style", "margin:-169px -115px");
    }

    private void RenderMenuItem(Syncfusion.Blazor.SplitButtons.MenuEventArgs args)
    {
        args.Element.AddClass(new string[] { "item-background" });
    }

    public async void ChangeView(Syncfusion.Blazor.SplitButtons.MenuEventArgs args)
    {
        int ind = int.Parse(args.Element.ID);
        await JSRuntime.InvokeVoidAsync(
            "mapster.changeImageAndMap", "overview"
        );
        this.View = ind;
        this.viewChanged = true;
        this.OverviewImg = Views[1].SunStudies[1].ImagePath;
    }

    public async void ChangeSunStudy(Syncfusion.Blazor.SplitButtons.MenuEventArgs args)
    {
        int ind = int.Parse(args.Element.ID);
        this.OverviewImg = Views[View].SunStudies[ind].ImagePath;
        await JSRuntime.InvokeVoidAsync(
            "mapster.changeImage", "selector", this.OverviewImg
        );
    }

    public async void ShowTooltip(MouseEventArgs e, String buttonNumber)
    {
        await JSRuntime.InvokeAsync<string>(
            "util.showTooltip", e.ClientX, e.ClientY, buttonNumber
        );
    }

    public async void HideTooltip()
    {
        await JSRuntime.InvokeAsync<string>(
            "util.hideTooltip"
        );
    }

    private void HousingClicked(string housing)
    {
        if (housing != "")
            navManager.NavigateTo("/interior/" + housing);
        else
            navManager.NavigateTo("/interior");
    }

    public class Houses
    {
        public double Sqm { get; set; }
        public string Price { get; set; }
        public double LandArea { get; set; }
        public string HouseNumber { get; set; }
        public string Status { get; set; }

        public static List<Houses> GetHouseData()
        {
            List<Houses> HouseData = new List<Houses>();
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7a", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "7b", Status = "Ledig" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8a", Status = "Reserverad" });
            HouseData.Add(new Houses { Sqm = 152, Price = "5 000 000", LandArea = 380, HouseNumber = "8b", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 160, Price = "5 500 000", LandArea = 490, HouseNumber = "9a", Status = "Sålt" });
            HouseData.Add(new Houses { Sqm = 170, Price = "5 600 000", LandArea = 440, HouseNumber = "9a", Status = "Sålt" });

            return HouseData;
        }
    }
}


<style>
    @@font-face {
        font-family: 'e-ddb-icons';
        src: url(data:application/x-font-ttf;charset=utf-8;base64,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) format('truetype');
        font-weight: normal;
        font-style: normal;
    }

    #selector {
        margin-bottom: 5px;
    }

    #overview {
        width: 60%;
    }

    #housing_list {
        width: 49%;
        display: inline-block;
        float: right;
    }

    #tipmsg {
        display: none;
        position: absolute;
        background-color: #F0F0F0;
        color: black;
        padding-left: 5px;
        padding-right: 5px;
        border-radius: 7px;
        white-space: pre-wrap;
        pointer-events: none;
    }

    #view_menu {
        position: fixed;
        bottom: 0px;
        right: 50px;
    }

    #sun_study_menu {
        position: fixed;
        bottom: 0px;
        right: 0px;
    }

    .center {
        margin: auto;
    }

    .hidden {
        display: none;
    }

    .icon {
        width: 32px;
        transition-duration: 0.4s;
    }

    .item-background {
        background: white;
    }

    .e-background {
        width: 50px;
        background: white;
    }

    .e-ddb-icons {
        font-family: 'e-ddb-icons';
        font-size: 55px;
        font-style: normal;
        font-weight: normal;
        font-variant: normal;
        text-transform: none;
        speak: none;
        line-height: 1;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    .e-view::before {
        content: url(IMG/icons/sundial_tiny.png);
    }

    .e-sun-study::before {
        content: url(IMG/icons/sundial_tiny.png);
    }
</style>
